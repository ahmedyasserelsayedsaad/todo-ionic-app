"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9129],{3303:(x,u,c)=>{c.d(u,{n:()=>o});var _=c(467),f=c(1626),s=c(6697),h=c(3953),T=c(5602);let o=(()=>{var p;class m{constructor(a,l){this.http=a,this.userser=l,this.apiUrl="https://todo.iraqsapp.com/todos",this.gettodosApi="https://todo.iraqsapp.com/todos"}addToDo(a){const l=this.userser.getAuthHeaders();return console.log("Headers:",l),this.http.post(this.apiUrl,a,{headers:l})}uploadImage(a){var l=this;return(0,_.A)(function*(){const g=localStorage.getItem("access_token"),v=new f.Lr({Authorization:`Bearer ${g}`}),k=yield(yield fetch(a)).blob(),b=new FormData;return b.append("image",k,"image.png"),l.http.post("https://todo.iraqsapp.com/upload/image",b,{headers:v}).toPromise()})()}toDos(a=1){const l=this.userser.getAuthHeaders();return console.log("Headers:",l),this.http.get(`${this.gettodosApi}?page=${a}`,{headers:l}).pipe((0,s.s)(1))}oneToDo(a){const l=this.userser.getAuthHeaders();return console.log("Headers:",l),this.http.get(`https://todo.iraqsapp.com/todos/${a}`,{headers:l})}deleteTodo(a){const l=this.userser.getAuthHeaders();return console.log("Headers:",l),this.http.delete(`https://todo.iraqsapp.com/todos/${a}`,{headers:l})}}return(p=m).\u0275fac=function(a){return new(a||p)(h.KVO(f.Qq),h.KVO(T.g))},p.\u0275prov=h.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}),m})()},9129:(x,u,c)=>{c.r(u),c.d(u,{TodosPageModule:()=>M});var _=c(177),f=c(4341),s=c(4742),h=c(7791),T=c(467),o=c(3953),p=c(3656),m=c(3303),P=c(5602);const a=n=>({"active-chip":n}),l=n=>["/todo-det",n];function g(n,d){if(1&n){const i=o.RV6();o.j41(0,"ion-item",17)(1,"ion-thumbnail",18),o.nrm(2,"img",19),o.k0s(),o.j41(3,"ion-label",20)(4,"div",21)(5,"h2"),o.EFF(6),o.k0s(),o.j41(7,"ion-badge"),o.EFF(8),o.k0s()(),o.j41(9,"p"),o.EFF(10),o.k0s(),o.j41(11,"div",22)(12,"ion-note")(13,"span"),o.nrm(14,"ion-icon",23),o.k0s(),o.EFF(15),o.k0s(),o.j41(16,"ion-note"),o.EFF(17,"12-11-2023"),o.k0s()()(),o.j41(18,"ion-button",24),o.bIt("click",function(){const e=o.eBV(i).$implicit,r=o.XpG(2);return o.Njj(r.action(e))}),o.nrm(19,"ion-icon",25),o.k0s()()}if(2&n){const i=d.$implicit;o.R7$(),o.Y8G("routerLink",o.eq3(6,l,i._id)),o.R7$(),o.Y8G("src",i.image,o.B4B),o.R7$(4),o.JRh(i.title),o.R7$(2),o.JRh(i.status),o.R7$(2),o.JRh(i.desc),o.R7$(5),o.SpI("",i.priority," ")}}function v(n,d){if(1&n){const i=o.RV6();o.j41(0,"ion-content")(1,"ion-toolbar")(2,"ion-title")(3,"h3"),o.EFF(4,"logo"),o.k0s()(),o.j41(5,"ion-buttons",1)(6,"ion-button",2),o.bIt("click",function(){o.eBV(i);const e=o.XpG();return o.Njj(e.goProfile())}),o.nrm(7,"ion-icon",3),o.k0s(),o.j41(8,"ion-button",2),o.bIt("click",function(){o.eBV(i);const e=o.XpG();return o.Njj(e.logOut())}),o.nrm(9,"ion-icon",4),o.k0s()()(),o.j41(10,"ion-row")(11,"ion-col",5)(12,"h1"),o.EFF(13,"my tasks"),o.k0s()()(),o.j41(14,"ion-row")(15,"ion-col",5)(16,"div",6)(17,"ion-chip",7),o.bIt("click",function(){o.eBV(i);const e=o.XpG();return o.Njj(e.setActiveChip("All"))}),o.EFF(18,"All"),o.k0s(),o.j41(19,"ion-chip",7),o.bIt("click",function(){o.eBV(i);const e=o.XpG();return o.Njj(e.setActiveChip("inprogress"))}),o.EFF(20,"inprograss"),o.k0s(),o.j41(21,"ion-chip",7),o.bIt("click",function(){o.eBV(i);const e=o.XpG();return o.Njj(e.setActiveChip("waiting"))}),o.EFF(22,"waiting"),o.k0s(),o.j41(23,"ion-chip",7),o.bIt("click",function(){o.eBV(i);const e=o.XpG();return o.Njj(e.setActiveChip("finished"))}),o.EFF(24,"finished"),o.k0s()()()(),o.j41(25,"ion-refresher",8),o.bIt("ionRefresh",function(e){o.eBV(i);const r=o.XpG();return o.Njj(r.refresh(e))}),o.nrm(26,"ion-refresher-content",9),o.k0s(),o.j41(27,"div"),o.DNE(28,g,20,8,"ion-item",10),o.k0s(),o.j41(29,"ion-infinite-scroll",11),o.bIt("ionInfinite",function(e){o.eBV(i);const r=o.XpG();return o.Njj(r.loadMore(e))}),o.nrm(30,"ion-infinite-scroll-content",12),o.k0s(),o.j41(31,"ion-fab",13)(32,"ion-fab-button",2),o.bIt("click",function(){o.eBV(i);const e=o.XpG();return o.Njj(e.addToDO())}),o.nrm(33,"ion-icon",14),o.k0s()(),o.j41(34,"ion-fab",15)(35,"ion-fab-button"),o.nrm(36,"ion-icon",16),o.k0s()()()}if(2&n){const i=o.XpG();o.R7$(17),o.Y8G("ngClass",o.eq3(5,a,"All"===i.activeChip)),o.R7$(2),o.Y8G("ngClass",o.eq3(7,a,"inprogress"===i.activeChip)),o.R7$(2),o.Y8G("ngClass",o.eq3(9,a,"waiting"===i.activeChip)),o.R7$(2),o.Y8G("ngClass",o.eq3(11,a,"finished"===i.activeChip)),o.R7$(5),o.Y8G("ngForOf",i.todos)}}function C(n,d){1&n&&(o.j41(0,"ion-content"),o.nrm(1,"ion-spinner",26),o.j41(2,"p"),o.EFF(3,"Loading task"),o.k0s()())}const b=[{path:"",component:(()=>{var n;class d{constructor(t,e,r,O){this.navCtrl=t,this.todosSer=e,this.actionsheet=r,this.userService=O,this.todos=[],this.page=1,this.activeChip="All"}ngOnInit(){this.getTodos()}goProfile(){this.navCtrl.navigateForward("/profile"),console.log("go to your profile")}addToDO(){this.navCtrl.navigateForward("/add-todo"),console.log("go to your profile")}setActiveChip(t){this.activeChip=t}getTodos(t){this.todosSer.toDos(this.page).subscribe(e=>{console.log(e);for(let r=0;r<=e.length;r++);this.todos=[...this.todos,...e.map(r=>(r.image=`https://todo.iraqsapp.com/images/${r.image}`,r))],t&&t.target.complete()})}loadMore(t){setTimeout(()=>{t.target.complete(),this.getTodos(t)},1e3)}refresh(t){this.todos=[],setTimeout(()=>{t.target.complete(),this.getTodos(t)},2e3)}action(t){var e=this;return(0,T.A)(function*(){yield(yield e.actionsheet.create({header:"choose mode",mode:"ios",buttons:[{icon:"trash",text:"do want to delete this item",handler:()=>{console.log("deleted"),e.deleteToDo(t._id)}},{icon:"create",text:"do want to edit this item",handler:()=>{console.log("edited")}},{text:"Cancel",icon:"close",role:"cancel"}]})).present()})()}deleteToDo(t){this.todosSer.deleteTodo(t).subscribe(e=>{console.log("Todo deleted successfully",e),this.todos=this.todos.filter(r=>r._id!==t)})}logOut(){this.userService.logout().subscribe(()=>(localStorage.removeItem("access_token"),this.navCtrl.navigateForward("/login")))}}return(n=d).\u0275fac=function(t){return new(t||n)(o.rXU(p.q9),o.rXU(m.n),o.rXU(s.GD),o.rXU(P.g))},n.\u0275cmp=o.VBU({type:n,selectors:[["app-todos"]],decls:2,vars:2,consts:[[4,"ngIf"],["slot","end"],[3,"click"],["slot","icon-only","name","person-circle-outline"],["slot","icon-only","name","log-out-outline"],["size","12","size-sm","12","size-md","12","size-lg","12"],[1,"chips"],[3,"click","ngClass"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Pull to refresh","refreshingSpinner","circles","refreshingText","Refreshing..."],["lines","none",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingText","Please wait...","loadingSpinner","bubbles"],["vertical","bottom","horizontal","end","slot","fixed",1,"fab-buttons"],["name","add-outline"],["vertical","bottom","horizontal","end","slot","fixed",1,"small",2,"margin-bottom","60px"],["name","qr-code-outline"],["lines","none"],["slot","start",3,"routerLink"],[3,"src"],[1,"item-content"],[1,"item-header"],[1,"item-footer"],["name","flag-outline"],["fill","clear","slot","end",3,"click"],["name","ellipsis-vertical-outline",1,"dots"],["name","crescent"]],template:function(t,e){1&t&&o.DNE(0,v,37,13,"ion-content",0)(1,C,4,0,"ion-content",0),2&t&&(o.Y8G("ngIf",e.todos),o.R7$(),o.Y8G("ngIf",!e.todos))},dependencies:[_.YU,_.Sq,_.bT,s.In,s.Jm,s.QW,s.ZB,s.hU,s.W9,s.Q8,s.YW,s.iq,s.Ax,s.Hp,s.uz,s.he,s.JI,s.To,s.Ki,s.ln,s.w2,s.Zx,s.BC,s.ai,s.N7,h.Wk],styles:["ion-content[_ngcontent-%COMP%]{--background: #f8f9fa}ion-toolbar[_ngcontent-%COMP%]{--background: #f9f9f9;--color: rgb(17, 17, 17)}.page-tasks[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: #f8f8f8}.chips[_ngcontent-%COMP%]{padding-right:2px}ion-chip[_ngcontent-%COMP%]{--background: #6200ea4e;font-size:15px;font-weight:500;font-family:sans-serif;transition:.4s all ease-in-out;color:gray}ion-chip[_ngcontent-%COMP%]:hover{--background: #6200ea;color:#f6f1f1;border:2px solid #6200ea;font-weight:bolder}.active-chip[_ngcontent-%COMP%]{--background: #6200ea;color:#f6f1f1;border:2px solid #6200ea;font-weight:bolder}ion-note[_ngcontent-%COMP%]{font-size:12px;color:#666}ion-badge[_ngcontent-%COMP%]{margin-left:8px}ion-item[_ngcontent-%COMP%]{--background: rgba(243, 240, 240, .797);border-radius:8px;margin-bottom:16px;margin-top:20px;color:#6a696b}.item-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.item-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;margin:0;font-size:16px;color:#000}.item-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:4px;color:#666}.item-footer[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]:first-child{color:#6200ee}span[_ngcontent-%COMP%]{font-size:16px;padding-right:6px;font-weight:bolder}.dots[_ngcontent-%COMP%]{color:#000;font-size:17px;font-weight:700}h1[_ngcontent-%COMP%]{color:#7c7b7b;font-weight:bolder;font-size:20px;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;text-transform:capitalize;padding-left:10px}h3[_ngcontent-%COMP%]{color:#020202;font-weight:bolder;font-size:20px;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;text-transform:capitalize;padding-left:10px}.fab-buttons[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{--background: #5f3dc4;--color: white}.small[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{--background: #e0d4fd !important;--color: #5f3dc4;--size:20px !important;margin-bottom:10px;font-weight:bolder}"]}),d})()}];let j=(()=>{var n;class d{}return(n=d).\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[h.iI.forChild(b),h.iI]}),d})(),M=(()=>{var n;class d{}return(n=d).\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[_.MD,f.YN,s.bv,j]}),d})()}}]);